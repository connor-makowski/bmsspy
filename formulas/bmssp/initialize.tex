\begin{algorithm}[!htbp]
\SingleSpacedXI
\caption{{\color{Red}BMSSP Initialization (E2E) (\texttt{Bmssp.\_\_init\_\_})}}
\label{alg:bmssp_wrapper_init}
\SetAlgoLined
\KwIn{graph $G$ (adjacency list), precision $precision$}
\KwOut{BMSSP object with preprocessed graph and edge adjustment values}

\If{$|G| < 2$}{
  \textbf{raise error} ``graph must have at least 2 nodes''
\label{alg:bmssp_init_graph_size_error}}

\BlankLine
\ForEach{node $u \in G$}{
  \ForEach{$(v, w) \in G[u]$}{
    $G[u][v] \leftarrow \text{round}(w, precision)$\;
  }
}

\BlankLine
$m \leftarrow \sum_{u \in G} |G[u]|$\;
$n \leftarrow |G|$\;
$precision \leftarrow precision$\;

$\textit{counter} \leftarrow 10^{-(\mathit{precision} + \ceil{\log_{10}(2n + 1)})}$\;
$\textit{edge\_adj\_value} \leftarrow 10^{-(\mathit{precision} + \ceil{\log_{10}(2n + 1)} + \ceil{\log_{10}(m + 1)})}$\;

\BlankLine
$G_{edge}[0..|G|-1] \leftarrow \{\}$ \tcp*{Can use hashmaps here since graph is constant degree}
$\textit{edge\_id} \leftarrow 0$\;
\ForEach{$u \in G$}{
  \ForEach{$(v, w) \in G[u]$}{
    $\textit{edge\_id} \leftarrow \textit{edge\_id} + \textit{edge\_adj\_value}$\;
    $G_{edge}[u][v] \leftarrow \textit{edge\_id}$\;
  }
}

\end{algorithm}