\begin{algorithm}[!htbp]
\SingleSpacedXI
\caption{BMSSP Solver Initialization (\texttt{BmsspSolver.\_\_init\_\_})}
\label{alg:bmssp_init}
\SetAlgoLined
\KwIn{graph $G$ (adjacency list), origin set $O$, destination id $dest$ (optional)}
\KwOut{BMSSP object in a solved state}

{\color{blue}\If{$|G| < 2$}{
  \textbf{raise error} ``graph must have at least 2 nodes''
\label{alg:bmssp_init_graph_size_error}}}

$\textit{dist}[0..|G|-1] \leftarrow \infty$\;
{\color{ForestGreen}$\textit{pred}[0..|G|-1] \leftarrow -1$ \tcp*{Track predecessors for path reconstruction}\label{alg:bmssp_init_pred}}

\ForEach{$o \in O$}{
  $\textit{dist}[o] \leftarrow 0$\;
}

\BlankLine
{\color{blue}$k \leftarrow \lceil \log_2(|G|)^{1/3} \rceil$ \tcp*{Round up $log_2$}\label{alg:bmssp_init_k}}

{\color{blue}$t \leftarrow \lfloor \log_2(|G|)^{2/3} \rfloor$ \tcp*{Use $log_2$}\label{alg:bmssp_init_t}}
{\color{blue}$\textit{max\_depth} \leftarrow \left\lceil \dfrac{\log_2(|G|)}{t} \right\rceil$\  \tcp*{Use $log_2$}\label{alg:bmssp_init_l}}

\BlankLine
$(B, U) \leftarrow$ \textsc{RecursiveBMSSP}($\textit{max\_depth}, \infty, O$)\;

\BlankLine

{\color{ForestGreen}\If{$dest$ is provided}{
  $\textit{length} \leftarrow \textit{dist}[dest]$\;
  \If{$\textit{length} = \infty$}{
    $path \leftarrow None$\;
  }
  \Else{
    $path \leftarrow$ \textsc{ReconstructPath}($dest, \textit{pred}$)\;
  }
}}

\end{algorithm}

