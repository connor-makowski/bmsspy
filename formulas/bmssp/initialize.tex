\begin{algorithm}[!htbp]
\SingleSpacedXI
\caption{{\color{Red}BMSSP Initialization (E2E) (\texttt{Bmssp.\_\_init\_\_})}}
\label{alg:bmssp_wrapper_init}
\SetAlgoLined
\KwIn{graph $G$ (adjacency list), precision $p$}
\KwOut{BMSSP object with preprocessed graph and adjustment values}

\If{$|G| < 2$}{
  \textbf{raise error} ``graph must have at least 2 nodes''
\label{alg:bmssp_init_graph_size_error}}

\BlankLine
\ForEach{node $u \in G$}{
  \ForEach{$(v, w) \in G[u]$}{
    $G[u][v] \leftarrow \text{round}(w, p)$\;
  }
}

\BlankLine
$m \leftarrow \sum_{u \in G} |G[u]|$\;
$n \leftarrow |G|$\;

$\textit{counter} \leftarrow 10^{-\left\lceil \log_{10}\left(\frac{(n \cdot 2) + 1}{10^{-(p+1)}}\right) \right\rceil}$\;
$\textit{edge\_adj\_value} \leftarrow 10^{-\left\lceil \log_{10}\left(\frac{(m \cdot 2) + 1}{\textit{counter}}\right) \right\rceil}$\;

\BlankLine
$G_{edge} \leftarrow \{\}$; $\textit{edge\_id} \leftarrow 0$\;
\ForEach{$u \in G$}{
  $G_{edge}[u] \leftarrow \{\}$\;
  \ForEach{$v \in G[u]$}{
    $\textit{edge\_id} \leftarrow \textit{edge\_id} + \textit{edge\_adj\_value}$\;
    $G_{edge}[u][v] \leftarrow \textit{edge\_id}$\;
  }
}

\end{algorithm}